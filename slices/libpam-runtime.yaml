package: libpam-runtime

essential:
  - libpam-runtime_copyright

slices:
  bins:
    essential:
      - libpam-modules_libs
    contents:
      # perl scripts that rely on debconf to properly work and discover
      # plugins/rules in /usr/share/pam-configs/*
      /usr/sbin/pam-auth-update:
      /usr/sbin/pam_getenv:

  config:
    contents:
      /etc/pam.conf:
      /etc/pam.d/other:

  # folders expected by libpam to exist
  var:
    contents:
      /var/lib/pam/:

  # Used by pam-auth-update to generate the pam.d/ config
  # files inside etc. However pam-auth-update relies on
  # debconf to actually work and discover these packages.
  pam-config:
    contents:
      /usr/share/pam-configs/unix:

  # default templates for the /etc/pam.d files that are used by
  # pam-auth-update to generate the /etc/pam.d versions based on
  # additional plugs in /usr/share/pam-configs/*.
  pam-defaults:
    contents:
      /usr/share/pam/common-account:
      /usr/share/pam/common-account.md5sums:
      /usr/share/pam/common-auth:
      /usr/share/pam/common-auth.md5sums:
      /usr/share/pam/common-password:
      /usr/share/pam/common-password.md5sums:
      /usr/share/pam/common-session:
      /usr/share/pam/common-session-noninteractive:
      /usr/share/pam/common-session-noninteractive.md5sums:
      /usr/share/pam/common-session.md5sums:

  copyright:
    contents:
      /usr/share/doc/libpam-runtime/copyright:

  # Introduce a core slice that only contains minimal things that
  # can be needed by other things than the perl scripts from this
  # package.
  core:
    essential:
      - libpam-runtime_config
      - libpam-runtime_var

  standard:
    essential:
      - libpam-runtime_bins
      - libpam-runtime_config
      - libpam-runtime_pam-config
      - libpam-runtime_pam-defaults
      - libpam-runtime_var
