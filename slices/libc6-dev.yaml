package: libc6-dev

essential:
  - libc6-dev_copyright

slices:
  # Standard POSIX libraries and startup files
  posix-libs:
    essential:
      - libc6-dev_symlink-libc6-libs
      - libc6_libs
    contents:
      /usr/lib/*-linux-*/Scrt1.o:
      /usr/lib/*-linux-*/crt1.o:
      /usr/lib/*-linux-*/crti.o:
      /usr/lib/*-linux-*/crtn.o:
      # NOTE: libc.so here is an ld script that tells the linker to look up the
      #       functions from libc_nonshared.a if they are not found in the
      #       libc.so.6 from libc6.
      /usr/lib/*-linux-*/libc.so:
      /usr/lib/*-linux-*/libc_nonshared.a:

  # only needed if linking with -lm
  libm:
    # NOTE: libm.so is a linker script which points to
    # libm.so.6 in libc6 package, *as well as* libmvec.so.1.
    essential:
      - libc6_libs
    contents:
      /usr/lib/*-linux-*/libm.so:
      /usr/lib/*-linux-*/libmvec.so:
        arch: [amd64, arm64]

  # All the static libraries and startup files
  libs:
    essential:
      - libc6-dev_libdl
      - libc6-dev_libm
      - libc6-dev_libpthread
      - libc6-dev_librt
      - libc6-dev_libutil
      - libc6-dev_posix-libs
    contents:
      # We have to list all the files since we're in a generic place (/usr/lib/*-linux-*)
      # and if we tried to glob *.o files, this slice would conflict with oh-so-many
      /usr/lib/*-linux-*/Mcrt1.o:
      /usr/lib/*-linux-*/gcrt1.o:
      /usr/lib/*-linux-*/grcrt1.o:
        arch: [amd64, arm64, riscv64, s390x]
      /usr/lib/*-linux-*/libBrokenLocale.a:
      /usr/lib/*-linux-*/libanl.a:
      /usr/lib/*-linux-*/libc.a:
      /usr/lib/*-linux-*/libg.a:
      /usr/lib/*-linux-*/libm-2.41.a:
        arch: [amd64, arm64]
      /usr/lib/*-linux-*/libm.a:
      /usr/lib/*-linux-*/libmcheck.a:
      /usr/lib/*-linux-*/libmvec.a:
        arch: [amd64, arm64]
      /usr/lib/*-linux-*/libpthread_nonshared.a:
      /usr/lib/*-linux-*/libresolv.a:
      /usr/lib/*-linux-*/rcrt1.o:
        arch: [amd64, arm64, riscv64, s390x]

  # only needed if linking with -lpthread or the -pthread flag in gcc
  libpthread:
    contents:
      /usr/lib/*-linux-*/libpthread.a:

  # only needed if linking with -ldl
  libdl:
    contents:
      /usr/lib/*-linux-*/libdl.a:

  # only needed if linking with -lrt
  librt:
    contents:
      /usr/lib/*-linux-*/librt.a:

  # only needed if linking with -lutil
  libutil:
    contents:
      /usr/lib/*-linux-*/libutil.a:
        arch: [amd64, arm64, ppc64el, riscv64, s390x]

  # All the standard C library headers
  headers:
    # We need `libcrypt-dev_headers` for the crypt.h header which is referenced from unistd.h
    essential:
      - libcrypt-dev_headers
      - linux-libc-dev_linux-headers
    contents:
      /usr/include/*-linux-*/bits/**.h:
      /usr/include/*-linux-*/fpu_control.h:
      /usr/include/*-linux-*/gnu/**.h:
      /usr/include/*-linux-*/ieee754.h:
      /usr/include/*-linux-*/sys/**.h:
      /usr/include/a*.h:
      /usr/include/arpa/*.h:
      /usr/include/byteswap.h:
      /usr/include/complex.h:
      /usr/include/cpio.h:
      /usr/include/ctype.h:
      /usr/include/d*.h:
      /usr/include/e*.h:
      /usr/include/f*.h:
      /usr/include/finclude/*-linux-*/*.h:
      /usr/include/gconv.h:
      /usr/include/getopt.h:
      /usr/include/glob.h:
      /usr/include/gnu-versions.h:
      /usr/include/grp.h:
      /usr/include/gshadow.h:
      /usr/include/i*.h:
      /usr/include/l*.h:
      /usr/include/m*.h:
      /usr/include/n*.h:
      /usr/include/net*/*.h:
      /usr/include/nfs/*.h:
      /usr/include/o*.h:
      /usr/include/p*.h:
      /usr/include/protocols/*.h:
      /usr/include/r*.h:
      /usr/include/rpc/*.h:
      /usr/include/s*.h:
      /usr/include/scsi/*.h:
      /usr/include/t*.h:
      /usr/include/u*.h:
      /usr/include/v*.h:
      /usr/include/w*.h:

  audit:
    essential:
      - libc6_libs
    contents:
      /usr/lib/*-linux-*/audit/sotruss-lib.so:

  symlink-libc6-libs:
    essential:
      - libc6_libs
    # All of these are symlinks to so's in the libc6 package
    contents:
      /usr/lib/*-linux-*/libBrokenLocale.so:
      /usr/lib/*-linux-*/libanl.so:
      /usr/lib/*-linux-*/libc_malloc_debug.so:
      /usr/lib/*-linux-*/libnss_compat.so:
      /usr/lib/*-linux-*/libnss_hesiod.so:
      /usr/lib/*-linux-*/libresolv.so:
      /usr/lib/*-linux-*/libthread_db.so:

  copyright:
    contents:
      /usr/share/doc/libc6-dev/copyright:
