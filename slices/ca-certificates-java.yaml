package: ca-certificates-java

essential:
  - ca-certificates-java_copyright

slices:
  bins:
    essential:
      - ca-certificates_bins
      - ca-certificates_data-with-certs
      - openjdk-8-jre-headless_security
    contents:
      # In order to generate Java keystore in a chiselled chroot
      # execute following commands, assuming that 'rootfs' is an
      # output directory.
      # cd rootfs
      # sudo chroot . /bin/bash /usr/sbin/update-ca-certificates
      # sudo chroot . find /etc/ssl/certs/ -name *.pem -exec echo +{} \; > certs
      # `mkdir proc && mount -t proc /proc proc/` or
      # `chroot . ln -s /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java proc/self/exe`
      # sudo chroot . /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java \
      #    -jar /usr/share/ca-certificates-java/ca-certificates-java.jar < certs
      # rm certs
      # See tests/spread/integration/ca-certificates-java/task.yaml
      /etc/ssl/certs/java/:
      /usr/share/ca-certificates-java/ca-certificates-java.jar:

  copyright:
    contents:
      /usr/share/doc/ca-certificates-java/copyright:
